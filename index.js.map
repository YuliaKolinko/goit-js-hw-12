{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/icon/Group.png","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport function responseData(requestWords, additionalParams = {}) {\r\n  const requestParams = {\r\n    key: '49149625-6c85390ad8fbd016bc28c7d7b',\r\n    q: requestWords,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: true,\r\n    per_page: 15,\r\n    ...additionalParams,\r\n  };\r\n\r\n  return axios\r\n    .get('', {\r\n      params: requestParams,\r\n    })\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n","export function renderImages(images) {\r\n  console.log('Дані для рендерингу:', images); // Додано для перевірки даних\r\n  const gallery = document.querySelector('.gallery');\r\n  const galleryArray = images.map(image => {\r\n    const {\r\n      webformatURL,\r\n      largeImageURL,\r\n      likes,\r\n      views,\r\n      tags,\r\n      comments,\r\n      downloads,\r\n    } = image;\r\n    const li = document.createElement('li');\r\n    li.classList.add('gallery-item');\r\n    const link = document.createElement('a');\r\n    link.classList.add('gallery-link');\r\n    link.href = largeImageURL;\r\n    const img = document.createElement('img');\r\n    img.classList.add('gallery-image');\r\n    img.src = webformatURL;\r\n    img.alt = tags;\r\n    img.width = 360;\r\n    img.height = 200;\r\n    li.appendChild(link);\r\n    link.appendChild(img);\r\n    const infoContainer = document.createElement('div');\r\n    infoContainer.classList.add('gallery-item-info');\r\n    infoContainer.innerHTML = `\r\n  <div class=\"item-info-container\">\r\n    <span class=\"description-name\">Likes</span>\r\n    <span class=\"description-counts\">${likes}</span>\r\n  </div>\r\n  <div class=\"item-info-container\">\r\n    <span class=\"description-name\">Views</span>\r\n    <span class=\"description-counts\">${views}</span>\r\n  </div>\r\n  <div class=\"item-info-container\">\r\n    <span class=\"description-name\">Comments</span>\r\n    <span class=\"description-counts\">${comments}</span>\r\n  </div>\r\n  <div class=\"item-info-container\">\r\n    <span class=\"description-name\">Downloads</span>\r\n    <span class=\"description-counts\">${downloads}</span>\r\n  </div>\r\n`;\r\n    li.appendChild(infoContainer);\r\n    return li;\r\n  });\r\n  gallery.append(...galleryArray);\r\n}\r\nexport function clearGallery() {\r\n  const gallery = document.querySelector('.gallery');\r\n  gallery.innerHTML = '';\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEYSURBVHgBrZZRDoIwDIYrwfDqTeQo3ohxEr0BXsW77GXFOFdkYcC6DuFPCJB1/7fCWgBgZEzfIPY256BYzqfkzE8nUNbCE+DzgqSKK8W6OVBV5xYk+ZUbgw/IFMVKmfxtng3ZYy5CjjBnISlzrXUtGcZiZpDxolsGIWItvTi/OK0xAuk7GhsBRjEGioNMmffMXKNEAAeRzENACYJc8QxF5IuJNBZhS2PSfBGwhNB9rjmpgHxZ5jqprAyC3jT0mi29RwSE5v6xhO9EhAjblN0tqS38G59t02ShKeCzU2Kh+SDE9z0GAUGxGPKaLS4F2aqVudcRENb8CIhovgeSMl/VwdQWbOPOl5yPvivs25b2MWjKJOu3hTX+AgZ5PpvL0NSkAAAAAElFTkSuQmCC\"","// iziToast імпорт бібліотеки\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n// SimpleLightbox імпорт бібліотеки\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n// loaders імпорт бібліотеки\r\nimport 'loaders.css/loaders.min.css';\r\n// Імпорт функцій\r\nimport { responseData } from './js/pixabay-api';\r\nimport { renderImages, clearGallery } from './js/render-functions';\r\n// Імпорт іконок\r\nimport iconSvgError from './img/icon/Group.png';\r\n\r\nconst form = document.querySelector('.form');\r\nconst loaderElement = document.querySelector('.loader');\r\nconst gallery = document.querySelector('.gallery');\r\nconst errorMesage = {\r\n  message:\r\n    'Sorry, there are no images matching your search query.Please try again!',\r\n  messageColor: '#fff',\r\n  backgroundColor: '#ef4040',\r\n  position: 'topRight',\r\n  iconUrl: iconSvgError,\r\n};\r\n\r\nlet lightbox = new SimpleLightbox('.gallery a', {\r\n  captions: true,\r\n  captionsData: 'alt',\r\n  captionType: 'attr',\r\n  captionDelay: 250,\r\n  animationSpeed: 350,\r\n  captionPosition: 'bottom',\r\n});\r\n\r\nlightbox.on('show.simplelightbox', function () {});\r\nlightbox.on('error.simplelightbox', function (e) {\r\n  console.log(e);\r\n});\r\n\r\nform.addEventListener('submit', searchImages);\r\n// Обробляємо подію відправки форми, та відображаємо знайдені зображення в галереї\r\nfunction searchImages(event) {\r\n  // Відміняємо дію за замовченням\r\n  event.preventDefault();\r\n  // Перевірка введеного тексту\r\n  const query = event.currentTarget.elements.searchQuery.value.trim();\r\n  if (!query) {\r\n    return;\r\n  }\r\n  // Показуємо лоадер\r\n  loaderElement.classList.remove('visually-hidden');\r\n  // Очищаємо галерею\r\n  clearGallery();\r\n  // Очищаємо поле вводу\r\n  form.reset();\r\n  // Виконуємо запит на сервер\r\n  responseData(query)\r\n    .then(data => {\r\n      const images = data.hits;\r\n      console.log('Отримані дані:', images); // Додано для перевірки даних\r\n      if (images.length === 0) {\r\n        iziToast.show(errorMesage);\r\n        return;\r\n      }\r\n      // Додаємо знайдені зображення в галерею\r\n      renderImages(data.hits);\r\n      lightbox.refresh();\r\n    })\r\n    //  Обробляємо помилки\r\n    .catch(error => {\r\n      iziToast.show(errorMesage);\r\n    })\r\n    // Ховаємо лоадер\r\n    .finally(() => {\r\n      loaderElement.classList.add('visually-hidden');\r\n    });\r\n}\r\n"],"names":["axios","responseData","requestWords","additionalParams","requestParams","response","error","renderImages","images","gallery","galleryArray","image","webformatURL","largeImageURL","likes","views","tags","comments","downloads","li","link","img","infoContainer","clearGallery","iconSvgError","form","loaderElement","errorMesage","lightbox","SimpleLightbox","e","searchImages","event","query","data","iziToast"],"mappings":"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"}